# Postmortem

The bug introduced was a wrong status code being returned when a user posts a new message. Instead of returning a 204 (No Content), a 400 (Bad Content) was returned.
The first thing we did was opening Kibana, and having a look at all the logs. We quickly realized that there were way too many logs, that didn't give us any useful information. We then filtered by specific container names, hoping it would limit the logs. We tried both our own containers, but figured only the API would have useful logs. Only searching for the API container, still resulted in a lot of useless logs, so our next thought was to the logs to specific request types. We started by searching through GET requests, but didn't find anything. Next up, we searched through POST requests, which there were a lot more of. Due to the amount of requests, we needed to limit the filtering further, so we filtered out all requests, which returned a status code of 204, meaning it was successful. This led to all POST requests, returning a "bad" statud code, being run on the API. We then noticed the POST requests on /msgs were returning a status code of 400, which turned out to be the bug introduced by the bug team.
Furthermore we noticed that we were getting a status code 400, on requests to /fllws. After looking through the code, we found out this was another bug/error, caused by a check when unfollowing. If the unfollow request is sent with two users who are not currently following eachother, a 400 is returned. This is conscious choice, but led to us conlcuding that we probably are missing either some follow requests or some users.
